<!DOCTYPE html>
<html lang="fr">


<head>
	<th:block th:include="~{fragment/fragment-head :: head}"></th:block>




	<title>Mon profil</title>
</head>
<!-- Navbar -->
<div th:replace="~{fragment/fragment-enteteConnecte :: frag-enteteConnecte}"></div>


<body>
	<h1>Mon profil</h1>
	<div class="container">
		<form action="/modifierProfil" method="post" th:object="${utilisateur}">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

			<div>
				<div class="row justify-content-center">
					<div class="col-md-4">
						<label for="idPseudo">Pseudo : * </label>
						<input id="idPseudo" type="text" pattern="[a-zA-Z0-9]{2,30}" placeholder="ex : Poppy14"
							class="form-control" th:field="*{pseudo}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('pseudo')}"></div>

					</div>
					<div class="col-md-4">
						<label for="idNom">Nom : *</label>
						<input id="idNom" type="text" class="form-control" th:field="*{nom}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('nom')}"></div>

					</div>
				</div>
				<!-- se fait avec thymeleaf donc juste besoin d'un ? ou pas comme ya les regex ?? -->
				<div class="row justify-content-center">
					<div class="col-md-4">
						<label for="idPrenom">Prénom : *</label>
						<input id="idPrenom" type="text" class="form-control" th:field="*{prenom}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('prenom')}"></div>

					</div>
					<div class="col-md-4">
							<label for="idEmail">Email : *</label>
						<input id="idEmail" type="text"
							pattern="^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$"
							class="form-control" placeholder="ex : poppy_elynn@gmail.com" th:field="*{email}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('email')}"></div>

					</div>
				</div>
				<div class="row justify-content-center">
					<div class="col-md-4">
						<label for="idTelephone"> Téléphone : *</label>
						<input id="idTelephone" type="tel" pattern="[0]{1}[1-9]{1}[0-9]{8}" class="form-control"
							placeholder="ex : 06 00 00 00 00" th:field="*{telephone}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('telephone')}"></div>

					</div>
					<div class="col-md-4">
							<label for="idRue">Rue : *</label>
						<input id="idRue" type="text" class="form-control" th:field="*{rue}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('rue')}"></div>

					</div>
				</div>
				<div class="row justify-content-center">
					<div class="col-md-4">
						<label for="idVille">Ville : *</label>
						<input id="idVille" type="text" class="form-control" th:field="*{ville}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('ville')}"></div>

					</div>
					<div class="col-md-4">
							<label for="idCodePostal">Code postal : *</label>
						<input id="idCodePostal" type="text"
							pattern="^((0[1-9])|([1-8][0-9])|(9[0-8])|(2A)|(2B)) *([0-9]{3})?$"
							placeholder="ex : 01 000" class="form-control" th:field="*{codePostal}" />
						<div th:replace="~{fragment/fragment-error :: frag-error('codePostal')}"></div>

					</div>
				</div>
				<div class="row justify-content-center">
					<div class="col-md-4">
						<label for="motDePasseActuel">Mot de passe actuel :</label>
						<input type="password" id="motDePasseActuel" class="form-control" th:field="*{motDePasse}" />
					</div>
					<!-- sert juste à bien aligner --> 
					<div class="col-md-4">
						
					</div>
				</div>
				<div class="row justify-content-center">
					<div class="col-md-4">
						<label for="idMotDePasse">Nouveau mot de passe : *</label>
						<input id="idMotDePasse" type="password" class="form-control" name="newPassword" />

					</div>
					<div class="col-md-4">
						<label for="idConfirmMotDePasse">Confirmation *</label>
						<input id="idConfirmMotDePasse" type="password" class="form-control"
							th:field="*{confirmMotDePasse}" />
						<div id="confirmMotDePasseError" style="color: red;"></div>
					</div>
				</div>
				<div class="row justify-content-center">
					<div class="col-md-4">
						<label for="idCredit">Crédit</label>
						<input id="idCredit" type="text" class="form-control" th:field="*{credit}">
					</div>
					
					<!-- sert juste à bien aligner --> 
					<div class="col-md-4">
						
					</div>

				</div>
			</div>
			<div class="row justify-content-center">
				<button style="margin: 20px;" type="submit"> Enregistrer </button>
			</div>
		</form>

		<form action="/supprimerProfil" method="post" th:object="${utilisateur}" class="row justify-content-center">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

			<input type="hidden" name="id" th:value="${utilisateur.noUtilisateur}" />
			<button type="submit">Supprimer mon compte</button>
		</form>

	</div>
	<script th:src="@{js/app.js}"></script>
</body>


</html>